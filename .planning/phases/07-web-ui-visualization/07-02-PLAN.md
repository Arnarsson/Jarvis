---
phase: 07-web-ui-visualization
plan: 02
type: execute
wave: 2
depends_on: [07-01]
autonomous: true
---

<objective>
Build timeline view with screenshot gallery, date navigation, and capture detail modal.

Uses existing /api/timeline/ and /api/timeline/days APIs.
</objective>

<context>
@server/src/jarvis_server/api/timeline.py
@server/src/jarvis_server/web/templates/base.html
</context>

<tasks>

<task type="auto">
<name>Task 1: Create timeline page with date picker</name>
<files>server/src/jarvis_server/web/templates/timeline.html</files>
<action>
Timeline page with:
- Date picker using /api/timeline/days for available dates
- Grid of capture thumbnails
- Infinite scroll with HTMX
</action>
<done>Timeline page created</done>
</task>

<task type="auto">
<name>Task 2: Create capture grid partial</name>
<files>server/src/jarvis_server/web/templates/partials/capture-grid.html</files>
<action>
Grid partial loaded via HTMX:
- Thumbnail images linking to /captures/
- Timestamp overlay
- Click to open detail modal
</action>
<done>Capture grid partial created</done>
</task>

<task type="auto">
<name>Task 3: Create capture detail modal</name>
<files>server/src/jarvis_server/web/templates/partials/capture-modal.html</files>
<action>
Modal showing:
- Full-size image
- OCR text if available
- Timestamp and metadata
- Navigation arrows for prev/next
</action>
<done>Capture modal created</done>
</task>

<task type="auto">
<name>Task 4: Add timeline API endpoints</name>
<files>server/src/jarvis_server/web/api.py</files>
<action>
Add endpoints:
- GET /api/web/timeline/grid?date=YYYY-MM-DD&cursor=X
- GET /api/web/timeline/capture/{id}
</action>
<done>Timeline API endpoints added</done>
</task>

</tasks>

<verification>
1. Navigate to /timeline
2. Date picker shows days with captures
3. Grid loads captures for selected date
4. Clicking capture opens modal
5. Infinite scroll loads more
</verification>

<success_criteria>
- Timeline shows capture history by date
- Thumbnails load from /captures/
- Modal displays full capture with OCR text
- Pagination works
</success_criteria>

<commit_guidance>
feat(07-02): add timeline view with capture gallery and date navigation
</commit_guidance>
