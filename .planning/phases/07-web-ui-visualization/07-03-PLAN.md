---
phase: 07-web-ui-visualization
plan: 03
type: execute
wave: 2
depends_on: [07-01]
autonomous: true
---

<objective>
Build search interface with filters, results display, and source filtering.

Uses existing /api/search/ API.
</objective>

<context>
@server/src/jarvis_server/api/search.py
@server/src/jarvis_server/web/templates/base.html
</context>

<tasks>

<task type="auto">
<name>Task 1: Create search page</name>
<files>server/src/jarvis_server/web/templates/search.html</files>
<action>
Search page with:
- Search input with debounced HTMX trigger
- Source filter checkboxes (screen, chatgpt, claude, grok)
- Date range filter
- Results container
</action>
<done>Search page created</done>
</task>

<task type="auto">
<name>Task 2: Create search results partial</name>
<files>server/src/jarvis_server/web/templates/partials/search-results.html</files>
<action>
Results partial showing:
- Result cards with source badge
- Text preview with search term highlighting
- Timestamp
- Click to view full content
</action>
<done>Search results partial created</done>
</task>

<task type="auto">
<name>Task 3: Add search web API endpoint</name>
<files>server/src/jarvis_server/web/api.py</files>
<action>
Add endpoint:
- GET /api/web/search?q=X&sources=Y&limit=Z
Returns HTML fragment with results
</action>
<done>Search API endpoint added</done>
</task>

<task type="auto">
<name>Task 4: Create result detail modal</name>
<files>server/src/jarvis_server/web/templates/partials/result-modal.html</files>
<action>
Modal showing full content:
- For captures: image + OCR text
- For chats: full conversation
</action>
<done>Result modal created</done>
</task>

</tasks>

<verification>
1. Navigate to /search
2. Type query, see results via HTMX
3. Filter by source
4. Click result to see detail
</verification>

<success_criteria>
- Search works with debounced input
- Filters narrow results
- Results show relevant preview
- Can view full content
</success_criteria>

<commit_guidance>
feat(07-03): add search interface with filters and result display
</commit_guidance>
