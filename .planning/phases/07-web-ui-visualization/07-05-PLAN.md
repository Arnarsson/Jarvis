---
phase: 07-web-ui-visualization
plan: 05
type: execute
wave: 3
depends_on: [07-01]
autonomous: true
---

<objective>
Build settings page for configuring capture, integrations, and viewing system status.
</objective>

<context>
@server/src/jarvis_server/config.py
@server/src/jarvis_server/web/templates/base.html
</context>

<tasks>

<task type="auto">
<name>Task 1: Create settings page</name>
<files>server/src/jarvis_server/web/templates/settings.html</files>
<action>
Settings page with sections:
- System status (server, Redis, Qdrant, Postgres)
- Google Calendar integration status
- Storage statistics
- Agent connection status
</action>
<done>Settings page created</done>
</task>

<task type="auto">
<name>Task 2: Create status cards partial</name>
<files>server/src/jarvis_server/web/templates/partials/status-cards.html</files>
<action>
Status cards showing:
- Service name and status (healthy/unhealthy)
- Last check timestamp
- Quick stats (counts, sizes)
</action>
<done>Status cards created</done>
</task>

<task type="auto">
<name>Task 3: Create integration settings partial</name>
<files>server/src/jarvis_server/web/templates/partials/integration-settings.html</files>
<action>
Integration settings showing:
- Google Calendar auth status
- Re-auth button if needed
- Last sync time
- Trigger sync button
</action>
<done>Integration settings created</done>
</task>

<task type="auto">
<name>Task 4: Add settings API endpoints</name>
<files>server/src/jarvis_server/web/api.py</files>
<action>
Add endpoints:
- GET /api/web/settings/status
- POST /api/web/settings/calendar/sync
</action>
<done>Settings API endpoints added</done>
</task>

</tasks>

<verification>
1. Navigate to /settings
2. See system status for all services
3. See Google Calendar integration status
4. Trigger calendar sync works
</verification>

<success_criteria>
- Settings page shows system health
- Integration status visible
- Can trigger calendar sync
- Storage stats accurate
</success_criteria>

<commit_guidance>
feat(07-05): add settings page with status and integrations
</commit_guidance>
