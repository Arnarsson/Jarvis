---
phase: 06-workflow-automation
plan: 06
type: execute
wave: 3
depends_on: [06-01, 06-02, 06-03, 06-04, 06-05]
autonomous: true
---

<objective>
Build web UI for workflow management: viewing suggestions, approving automations, managing patterns.
</objective>

<context>
@server/src/jarvis_server/web/templates/base.html
@server/src/jarvis_server/api/workflow.py
@.planning/REQUIREMENTS.md (UI-05)
</context>

<tasks>

<task type="auto">
<name>Task 1: Create workflows page</name>
<files>server/src/jarvis_server/web/templates/workflows.html</files>
<action>
Main workflow management page with tabs:
- Suggestions: Pending automation proposals
- Active: Currently enabled automations
- History: Recent executions
- Suspended: Paused due to false positives
</action>
<done>Page created</done>
</task>

<task type="auto">
<name>Task 2: Create suggestion cards</name>
<files>server/src/jarvis_server/web/templates/partials/suggestion-card.html</files>
<action>
Card showing:
- Suggestion title and description
- Trigger: "When you..."
- Action: "Jarvis will..."
- Example screenshots (thumbnail carousel)
- Approve/Reject buttons
- Estimated time saved
</action>
<done>Cards created</done>
</task>

<task type="auto">
<name>Task 3: Create pattern detail modal</name>
<files>server/src/jarvis_server/web/templates/partials/pattern-modal.html</files>
<action>
Modal for pattern details:
- Pattern name and description
- Trust tier selector (observe/suggest/auto)
- Execution history chart
- Accuracy score
- Recent examples
- Edit trigger conditions
- Delete pattern button
</action>
<done>Modal created</done>
</task>

<task type="auto">
<name>Task 4: Create execution history</name>
<files>server/src/jarvis_server/web/templates/partials/execution-history.html</files>
<action>
List of recent executions:
- Pattern name, trigger time
- Status (completed/failed/undone)
- Thumbs up/down feedback buttons
- Undo button (if within window)
</action>
<done>History created</done>
</task>

<task type="auto">
<name>Task 5: Add web routes</name>
<files>server/src/jarvis_server/web/routes.py</files>
<action>
Add routes:
- GET /workflows - Main page
- GET /workflows/suggestions - HTMX partial
- GET /workflows/active - HTMX partial
- GET /workflows/history - HTMX partial
</action>
<done>Routes added</done>
</task>

<task type="auto">
<name>Task 6: Add MCP tools</name>
<files>mcp/src/jarvis_mcp/tools/workflow.py</files>
<action>
MCP tools for Claude Code:
- jarvis_list_suggestions() - See pending suggestions
- jarvis_approve_automation(pattern_id) - Approve suggestion
- jarvis_list_automations() - See active automations
- jarvis_trigger_automation(pattern_id) - Manually trigger
</action>
<done>MCP tools added</done>
</task>

</tasks>

<verification>
- Workflows page loads
- Suggestions display correctly
- Approve/reject updates pattern tier
- Execution history shows with feedback
</verification>

<success_criteria>
- Full workflow management in web UI
- User can manage automations without CLI
- MCP tools work in Claude Code
</success_criteria>

<commit_guidance>
feat(06-06): add workflow management web UI and MCP tools
</commit_guidance>
